# 설정·액션 아이템 (결정용)

각 항목: **상황 요약** → **선택지/액션** → **권장(선택)**

---

## 1. 그래프 렌더링: Vis.js 켤지 여부

**상황:** 현재 `useVisJs: false` → SVG 사용. Vis.js는 부드러운 엣지·라벨 배경·클러스터 더블클릭 지원.

| 선택 | 내용 |
|------|------|
| **유지** | SVG 그대로. 번들 크기·의존성 없음. |
| **켜기** | `useVisJs: true`. CDN 로드 1개 추가, UX 개선. |

**권장:** 팀이 “엣지 곡선·라벨 가독”을 중요시하면 `true`, 아니면 `false` 유지.

---

## 2. PyGraphviz를 Docker에서 쓸지

**상황:** 기본은 NetworkX만 사용. PyGraphviz 쓰려면 시스템에 Graphviz 필요. Docker 이미지에 넣으면 로컬에는 설치 안 해도 됨.

| 선택 | 내용 |
|------|------|
| **현재** | Backend Dockerfile은 `requirements.txt`만 사용 → NetworkX만 사용. |
| **추가** | Dockerfile에 `apt graphviz` + `requirements-pygraphviz.txt` 설치 → 배포 이미지에서만 PyGraphviz 사용. |

**권장:** “배포 환경에서 PyGraphviz 레이아웃을 쓰고 싶다”면 Docker에만 추가. 로컬/CI는 그대로.

---

## 3. 프론트 API 베이스 주입 (graph.html)

**상황:** `graph.js`는 `window.GRAPHIQ_API_BASE`가 있으면 그걸 쓰고, 없으면 hostname 또는 `localhost:8000`. `graph.html`에는 해당 변수 주입이 없음.

| 선택 | 내용 |
|------|------|
| **유지** | 같은 호스트면 8000, file://이면 localhost:8000. 단순. |
| **주입** | 배포 시 HTML에 `<script>window.GRAPHIQ_API_BASE='https://api.example.com';</script>` 등으로 백엔드 URL 고정. |

**권장:** 프론트와 API가 다른 도메인/포트로 배포할 계획이면 주입 방식 도입. 같은 호스트만 쓰면 현재 로직으로 충분.

---

## 4. API 타임아웃·그래프 limit 상수화

**상황:** `graph.js`에 fetch 타임아웃 30초 하드코딩, `limits: { nodes: 500, edges: 200 }` 등이 코드 안에 있음.

| 선택 | 내용 |
|------|------|
| **유지** | 수정할 일 없으면 그대로. |
| **설정화** | 타임아웃·limits를 상단 CONFIG 객체로 모으고, (선택) 빌드/런타임에 환경변수로 오버라이드. |

**권장:** 운영에서 “노드 수 제한 완화/축소” 등이 필요해지면 CONFIG로 빼두기. 당장은 선택.

---

## 5. CORS / .env

**상황:** `.env.example`에 `CORS_ORIGINS=*` 설명 있음. 프로덕션에서는 특정 오리진만 두는 게 보안상 좋음.

| 선택 | 내용 |
|------|------|
| **유지** | 개발용으로 `*` 사용. |
| **강화** | 배포 시 `.env`에 `CORS_ORIGINS=https://your-frontend-domain.com` 등으로 제한. |

**권장:** 프로덕션 배포 시 오리진 제한 적용. 개발은 `*` 유지 가능.

---

## 6. 레이아웃 API 실패 시 사용자 피드백

**상황:** 서버 레이아웃 실패 시 클라이언트 force로 자동 폴백. 사용자에게 “서버 레이아웃 실패, 로컬 레이아웃 사용 중” 같은 메시지는 없음.

| 선택 | 내용 |
|------|------|
| **유지** | 조용히 폴백. |
| **표시** | 폴백 시 상태바/토스트로 한 줄 안내 (예: “레이아웃을 로컬 계산으로 표시했습니다”). |

**권장:** 디버깅·지원 편의를 위해 짧은 메시지 추가 권장. 필수는 아님.

---

## 7. 문서 정리

**상황:** `docs/`에 여러 검토·하이브리드 문서 있음. 신규 합류자가 “뭘 먼저 읽지?” 할 수 있음.

| 선택 | 내용 |
|------|------|
| **유지** | README 문서 링크만 유지. |
| **정리** | README에 “처음 읽을 문서 3개” 또는 “온보딩 순서” 1~2문장 추가. |

**권장:** README에 **빠른 실행 → 그래프/레이아웃 설명은 `docs/PYGRAPHVIZ-VISJS-HYBRID.md`** 한 줄만 넣어도 충분.

---

## 요약 표

| # | 항목 | 결정 포인트 | 기본 제안 |
|---|------|-------------|-----------|
| 1 | Vis.js 켜기 | UX vs 의존성 | 필요할 때만 true |
| 2 | Docker에 PyGraphviz | 배포에서 PyGraphviz 쓸지 | 쓸 때만 Dockerfile 추가 |
| 3 | API 베이스 주입 | 다른 도메인 배포 여부 | 다른 도메인이면 주입 |
| 4 | 타임아웃/limit 설정화 | 운영 튜닝 필요 여부 | 필요해지면 CONFIG로 |
| 5 | CORS 제한 | 프로덕션 배포 여부 | 프로덕션 시 오리진 제한 |
| 6 | 레이아웃 폴백 안내 | 사용자/지원 피드백 필요 여부 | 있으면 좋음 |
| 7 | 문서 온보딩 | 신규 합류자 유무 | README 한 줄 추가 |

위에서 “뭐가 나을지 / 어떻게 할지” 정하시면, 그에 맞춰 설정값이나 코드 변경까지 이어서 적용할 수 있습니다.
