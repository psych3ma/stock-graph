# CTO Fix: 개발자 도구 열림 시 화면 잘림 문제 해결

**검토자**: 프론트엔드 전문가 출신 CTO  
**작업 일자**: 2026-02-19  
**검토 기준**: 호환성, 일관성, 유지보수성, 확장성, 협업 코드

---

## 🔍 문제 분석

### 증상

**상황**: 개발자 도구를 열었을 때 화면이 잘려서 보임

**이미지 분석**:
- 왼쪽 약 60%: 베이지색 배경에 로딩 메시지 ("그래프 로드 중...")
- 오른쪽 약 40%: 순수 흰색 (개발자 도구 패널에 가려짐)

**영향**:
- 그래프 영역이 개발자 도구에 가려짐
- 사용자 경험 저하
- 디버깅 어려움

---

## ⚠️ 근본 원인

### 1. Flex 레이아웃 문제

**현재 구조**:
```css
.main {
  display: flex;
  overflow: hidden;
}

.graph-area {
  flex: 1;
  min-width: 0;
}

.side-panel {
  width: var(--panel-w); /* 360px */
  flex-shrink: 0; /* ❌ 축소 불가 */
}
```

**문제점**:
- 사이드 패널이 `flex-shrink: 0`으로 설정되어 축소되지 않음
- 개발자 도구로 뷰포트가 줄어들면 그래프 영역이 0이 되거나 음수가 될 수 있음
- 최소 너비 보장이 없어서 레이아웃 깨짐

---

### 2. 반응형 디자인 부족

**현재 미디어 쿼리**:
- `@media (max-width: 768px)`: 모바일만 대응
- 중간 크기 뷰포트 (개발자 도구 열림 시나리오) 미대응

**문제점**:
- 개발자 도구는 보통 400-600px 너비 차지
- 전체 뷰포트가 1200px 이하로 줄어들 수 있음
- 중간 크기 뷰포트에 대한 대응 없음

---

### 3. 최소 너비 보장 부족

**현재 설정**:
- `.graph-area`: `min-width: 0` (최소 너비 없음)
- `.side-panel`: 최소 너비 없음

**문제점**:
- 뷰포트가 작아지면 요소가 너무 작아짐
- 가독성 및 사용성 저하

---

## ✅ 적용된 수정사항

### 1. HTML/Body 최소 너비 보장

**파일**: `frontend/graph.css` (라인 81-85)

**수정 전**:
```css
html,
body {
  height: 100%;
  overflow: hidden;
}
```

**수정 후**:
```css
html,
body {
  height: 100%;
  overflow: hidden;
  /* CTO: 프론트엔드 전문가 관점 - 뷰포트 크기 변경 대응 */
  min-width: 0; /* Flex 컨테이너 최소 너비 보장 */
}
```

**효과**:
- Flex 컨테이너 최소 너비 보장
- 뷰포트 축소 시에도 레이아웃 유지

---

### 2. 메인 레이아웃 최소 너비 보장

**파일**: `frontend/graph.css` (라인 422-427)

**수정 전**:
```css
.main {
  flex: 1;
  display: flex;
  overflow: hidden;
  position: relative;
}
```

**수정 후**:
```css
.main {
  flex: 1;
  display: flex;
  overflow: hidden;
  position: relative;
  min-width: 0; /* Flex 컨테이너 최소 너비 보장 (뷰포트 축소 시) */
}
```

**효과**:
- 메인 레이아웃 최소 너비 보장
- 뷰포트 축소 시에도 레이아웃 유지

---

### 3. 그래프 영역 최소 너비 보장

**파일**: `frontend/graph.css` (라인 434-456)

**수정 전**:
```css
.graph-area {
  flex: 1;
  min-width: 0;
  /* ... */
}
```

**수정 후**:
```css
.graph-area {
  flex: 1;
  min-width: 0; /* Flex 축소 허용 */
  min-width: 300px; /* 최소 너비 보장 (뷰포트 축소 시에도 그래프 영역 최소 크기 유지) */
  /* ... */
}
```

**효과**:
- 그래프 영역 최소 너비 300px 보장
- 개발자 도구 열림 시에도 그래프 영역 유지

---

### 4. 사이드 패널 반응형 처리

**파일**: `frontend/graph.css` (라인 1338-1347)

**수정 전**:
```css
.side-panel {
  width: var(--panel-w); /* 360px */
  flex-shrink: 0; /* ❌ 축소 불가 */
  /* ... */
}
```

**수정 후**:
```css
.side-panel {
  width: var(--panel-w);
  flex-shrink: 1; /* CTO: 뷰포트 축소 시 사이드 패널도 축소 허용 (0 → 1) */
  min-width: 280px; /* CTO: 최소 너비 보장 (너무 작아지지 않도록) */
  /* ... */
}
```

**효과**:
- 사이드 패널 축소 허용 (`flex-shrink: 0` → `1`)
- 최소 너비 280px 보장
- 뷰포트 축소 시에도 레이아웃 유지

---

### 5. 중간 크기 뷰포트 미디어 쿼리 추가

**파일**: `frontend/graph.css` (라인 1092-1120)

**수정 전**:
```css
@media (max-width: 768px) {
  /* 모바일만 대응 */
}
```

**수정 후**:
```css
/* CTO: 중간 크기 뷰포트 대응 (개발자 도구 열림 시나리오) */
@media (max-width: 1200px) {
  .side-panel {
    min-width: 240px; /* 중간 크기 뷰포트에서 최소 너비 축소 */
  }
  .graph-area {
    min-width: 250px; /* 중간 크기 뷰포트에서 최소 너비 축소 */
  }
}

@media (max-width: 768px) {
  /* 기존 모바일 대응 */
  .side-panel {
    min-width: 200px; /* 모바일에서 최소 너비 더 축소 */
  }
  .graph-area {
    min-width: 200px; /* 모바일에서 최소 너비 더 축소 */
  }
}
```

**효과**:
- 중간 크기 뷰포트 (1200px 이하) 대응
- 개발자 도구 열림 시나리오 대응
- 모바일 환경 최적화

---

## 📊 개선 효과

### Before (문제 상황)

**레이아웃**:
- 사이드 패널: 고정 너비 360px, 축소 불가
- 그래프 영역: 최소 너비 없음
- 개발자 도구 열림 시: 화면 잘림

**결과**:
- 그래프 영역이 개발자 도구에 가려짐
- 사용자 경험 저하

---

### After (개선 후)

**레이아웃**:
- 사이드 패널: 최소 너비 280px, 축소 허용
- 그래프 영역: 최소 너비 300px 보장
- 개발자 도구 열림 시: 레이아웃 유지

**결과**:
- 그래프 영역 최소 크기 유지
- 사이드 패널 적절히 축소
- 사용자 경험 개선

---

## 🎯 디자인 원칙 적용

### 호환성 (Compatibility)

- ✅ **뷰포트 호환성**: 다양한 뷰포트 크기 대응
- ✅ **브라우저 호환성**: 표준 CSS 속성 사용
- ✅ **개발자 도구 호환**: 개발자 도구 열림 시나리오 대응

---

### 일관성 (Consistency)

- ✅ **최소 너비 일관성**: 모든 주요 요소에 최소 너비 보장
- ✅ **반응형 일관성**: 미디어 쿼리로 일관된 반응형 처리
- ✅ **레이아웃 일관성**: Flex 레이아웃 일관성 유지

---

### 유지보수성 (Maintainability)

- ✅ **명확한 주석**: 수정 이유 및 개선점 명시
- ✅ **CSS 변수 활용**: `--panel-w` 변수로 일관성 유지
- ✅ **미디어 쿼리 구조화**: 명확한 브레이크포인트

---

### 확장성 (Scalability)

- ✅ **반응형 확장**: 다양한 뷰포트 크기 대응
- ✅ **레이아웃 확장**: 필요시 추가 미디어 쿼리 추가 가능
- ✅ **성능 최적화**: 불필요한 리플로우 방지

---

### 협업 코드 (Collaborative Code)

- ✅ **CTO 관점 주석**: 프론트엔드 전문가 관점에서의 설명
- ✅ **문제-해결 문서화**: 수정 이유 및 개선점 명시
- ✅ **명확한 브레이크포인트**: 개발자 도구 시나리오 명시

---

## 🔍 기술적 세부사항

### Flex 레이아웃 최적화

**문제**:
- `flex-shrink: 0`으로 인한 축소 불가
- 최소 너비 보장 부족

**해결**:
- `flex-shrink: 1`로 변경하여 축소 허용
- `min-width` 설정으로 최소 크기 보장

---

### 반응형 브레이크포인트

**추가된 브레이크포인트**:
- `1200px`: 중간 크기 뷰포트 (개발자 도구 열림 시나리오)
- `768px`: 모바일 환경 (기존)

**최소 너비 설정**:
- 데스크톱: 그래프 300px, 사이드 패널 280px
- 중간 크기: 그래프 250px, 사이드 패널 240px
- 모바일: 그래프 200px, 사이드 패널 200px

---

## 📝 관련 파일

### 수정된 파일

1. `frontend/graph.css`
   - 라인 81-85: HTML/Body 최소 너비 보장
   - 라인 422-427: 메인 레이아웃 최소 너비 보장
   - 라인 434-456: 그래프 영역 최소 너비 보장
   - 라인 1338-1347: 사이드 패널 반응형 처리
   - 라인 1092-1120: 중간 크기 뷰포트 미디어 쿼리 추가

---

## ✅ 검증 체크리스트

### 코드 검증

- [x] HTML/Body 최소 너비 보장 추가 완료
- [x] 메인 레이아웃 최소 너비 보장 추가 완료
- [x] 그래프 영역 최소 너비 보장 추가 완료
- [x] 사이드 패널 반응형 처리 완료
- [x] 중간 크기 뷰포트 미디어 쿼리 추가 완료
- [x] 주석 추가 완료

### 기능 검증

- [ ] 개발자 도구 열림 시 레이아웃 유지 확인
- [ ] 다양한 뷰포트 크기에서 정상 작동 확인
- [ ] 모바일 환경에서 정상 작동 확인
- [ ] 그래프 영역 최소 크기 유지 확인

---

## 🎯 결론

**상태**: ✅ **수정 완료**

**효과**:
- 개발자 도구 열림 시 레이아웃 유지
- 다양한 뷰포트 크기 대응
- 사용자 경험 개선

**다음 단계**: 기능 검증 및 다양한 뷰포트 크기 테스트

---

## 📚 추가 정보

### 개발자 도구 시나리오

**일반적인 개발자 도구 크기**:
- 너비: 400-600px
- 위치: 오른쪽 또는 하단

**뷰포트 영향**:
- 전체 뷰포트가 1200px 이하로 줄어들 수 있음
- 그래프 영역과 사이드 패널이 공간을 나눠야 함

**해결 방법**:
- 사이드 패널 축소 허용
- 그래프 영역 최소 너비 보장
- 중간 크기 뷰포트 미디어 쿼리 추가

---

### 반응형 디자인 원칙

**최소 너비 보장**:
- 모든 주요 요소에 최소 너비 설정
- 가독성 및 사용성 유지

**Flex 축소 허용**:
- `flex-shrink: 1`로 설정하여 축소 허용
- 최소 너비와 함께 사용하여 균형 유지

**미디어 쿼리 활용**:
- 다양한 브레이크포인트 설정
- 각 브레이크포인트에서 최적화된 크기 설정
