# HTML UI 통합 CTO 검토

## 1. 아키텍처 통합

### 현재 상태
- ✅ FastAPI 백엔드 (REST API)
- ✅ Streamlit 프론트엔드 (채팅 UI)
- ⚠️ HTML 그래프 시각화 (독립적, 데모 데이터)

### 통합 필요사항
1. **그래프 데이터 API** - Neo4j에서 노드/엣지 조회
2. **노드 상세 API** - 특정 노드의 속성/연결 조회
3. **실시간 채팅 연동** - 기존 `/chat` 엔드포인트 활용
4. **검색 API** - 기존 `/search` 활용

---

## 2. 성능 고려사항

### 문제점
- 전체 그래프 로드 시 수천 개 노드 → 렌더링 병목
- Neo4j 쿼리 최적화 필요

### 해결책
- **페이지네이션**: 초기 로드 시 샘플만 (예: TOP 50 노드)
- **Lazy Loading**: 노드 클릭 시 연결 노드만 추가 로드
- **필터링**: 서버 사이드 필터 (Company/Person/Major 등)
- **캐싱**: 자주 조회되는 노드 메타데이터 캐시

---

## 3. 보안

- ✅ CORS 설정 (기존 FastAPI 미들웨어)
- ✅ XSS 방지: HTML 이스케이프 함수 (`esc()`)
- ⚠️ API Rate Limiting 추가 권장
- ⚠️ 인증/인가 (향후 필요 시)

---

## 4. 확장성

- **API 버저닝**: `/api/v1/graph` 형태로 확장 가능
- **WebSocket**: 실시간 그래프 업데이트 (선택)
- **CDN**: 정적 HTML/CSS/JS 분리 (프로덕션)

---

## 5. 에러 처리

- 네트워크 오류 → 사용자 친화적 메시지
- Neo4j 연결 실패 → 폴백 UI
- 빈 결과 → Empty state 표시

---

## 6. 구현 우선순위

1. ✅ 그래프 데이터 API (`/api/v1/graph/nodes`, `/api/v1/graph/edges`)
2. ✅ 노드 상세 API (`/api/v1/graph/nodes/{id}`)
3. ✅ HTML과 API 연동
4. ⚠️ 성능 최적화 (페이지네이션, 필터링)
5. ⚠️ 에러 처리 강화
